import{a as n,b as o,r as h,f as d,j as s,L as m,c as x,u as j}from"./index-CqTUpZBC.js";import{s as u,a as g,b as p,L as _}from"./Loader-BmetQ-Kz.js";import{I as N}from"./index-B-i8hy6q.js";const b=({query:a})=>{const r=n(),t=o(u),i=o(g),c=o(p);h.useEffect(()=>{r(d())},[r]);const l=t.filter(e=>e.mark.toLowerCase().includes(a.toLowerCase())||e.model.toLowerCase().includes(a.toLowerCase())||e.partNumber.toLowerCase().includes(a.toLowerCase()));return i?s.jsx(_,{}):s.jsxs("div",{className:"headlights",children:[c&&s.jsx("p",{className:"error",children:c}),t.length===0?s.jsx("p",{children:"Оголошень немає."}):s.jsx("ul",{className:"headlights__list",children:l.map(e=>s.jsxs("li",{className:"headlights__item",children:[s.jsx("div",{className:"headlights__img-thumb",children:s.jsx("img",{className:"headlights__img",src:e.photo[0],alt:`photo of ${e.mark}`,loading:"lazy",width:250})}),s.jsxs("div",{className:"headlights__block-descr",children:[s.jsxs("p",{className:"headlights__compatibility",children:[e.mark,s.jsx("br",{}),e.model,s.jsx("br",{}),e.year]}),s.jsxs("p",{className:"headlights__partNumber",children:[s.jsx("strong",{children:"Номер деталі:"})," ",s.jsx("br",{})," ",e.partNumber]}),s.jsxs("p",{className:"headlights__price",children:[e.price," грн "]}),s.jsx(m,{className:"headlights__button",to:e._id,children:"Детальніше"})]})]},e._id))})]})},f=({onSearch:a})=>{const[r,t]=x(),i=r.get("search")||"",c=l=>{const e=l.target.value;t({...Object.fromEntries(r.entries()),search:e}),a(l.target.value)};return s.jsx("div",{className:"search",children:s.jsx("input",{className:"search__form",onChange:c,value:i,type:"text",placeholder:"Введіть марку, модель автомобіля або номер запчастини"})})},S=()=>{const a=j(),[r,t]=h.useState("");return s.jsxs(s.Fragment,{children:[s.jsxs("button",{className:"btn-back",onClick:()=>a("/"),children:[s.jsx(N,{})," Hа головну"]}),s.jsx("section",{className:"store",children:s.jsxs("div",{className:"store__block",children:[s.jsx(f,{onSearch:t}),s.jsx(b,{query:r})]})})]})};export{S as default};
