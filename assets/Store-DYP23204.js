import{u as n,a as o,r as h,f as d,j as s,L as m,b as p}from"./index-yTPbctz_.js";import{s as u,a as x,b as g,L as j}from"./Loader-hiq90B87.js";const _=({query:t})=>{const a=n(),r=o(u),l=o(x),c=o(g);h.useEffect(()=>{a(d())},[a]);const i=r.filter(e=>e.compatibility.toLowerCase().includes(t.toLowerCase())||e.partNumber.toLowerCase().includes(t.toLowerCase()));return l?s.jsx(j,{}):s.jsxs("div",{className:"headlights",children:[c&&s.jsx("p",{className:"error",children:c}),r.length===0?s.jsx("p",{children:"Оголошень немає."}):s.jsx("ul",{className:"headlights__list",children:i.map(e=>s.jsxs("li",{className:"headlights__item",children:[s.jsx("div",{className:"headlights__img-thumb",children:s.jsx("img",{className:"headlights__img",src:e.photo[0],alt:`photo of ${e.compatibility}`,loading:"lazy",width:250})}),s.jsx("p",{className:"headlights__compatibility block",children:e.compatibility}),s.jsxs("p",{className:"headlights__partNumber block",children:[s.jsx("strong",{children:"Номер деталі:"})," ",e.partNumber]}),s.jsxs("p",{className:"headlights__price block",children:[e.price," грн "]}),s.jsx(m,{className:"headlights__button block",to:e._id,children:"Детальніше"})]},e._id))})]})},b=({onSearch:t})=>{const[a,r]=p(),l=a.get("search")||"",c=i=>{const e=i.target.value;r({...Object.fromEntries(a.entries()),search:e}),t(i.target.value)};return s.jsx("div",{className:"search",children:s.jsx("input",{className:"search__form",onChange:c,value:l,type:"text",placeholder:"Що шукаєте?"})})},L=()=>{const[t,a]=h.useState("");return s.jsxs("section",{children:[s.jsx("div",{className:"store__block",children:s.jsx(b,{onSearch:a})}),s.jsx(_,{query:t})]})};export{L as default};
