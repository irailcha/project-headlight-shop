import{a as n,b as o,r as h,f as d,j as s,L as m,c as u,u as x}from"./index-CnY0I9rg.js";import{s as g,a as p,b as j,L as _}from"./Loader-BrcAYEbZ.js";import{I as N}from"./index-CQ16C2tc.js";const b=({query:a})=>{const t=n(),r=o(g),i=o(p),c=o(j);h.useEffect(()=>{t(d())},[t]);const l=r.filter(e=>e.mark.toLowerCase().includes(a.toLowerCase())||e.model.toLowerCase().includes(a.toLowerCase())||e.partNumber.toLowerCase().includes(a.toLowerCase()));return i?s.jsx(_,{}):s.jsxs("div",{className:"headlights",children:[c&&s.jsx("p",{className:"error",children:c}),r.length===0?s.jsx("p",{children:"Оголошень немає."}):s.jsx("ul",{className:"headlights__list",children:l.map(e=>s.jsxs("li",{className:"headlights__item",children:[s.jsx("div",{className:"headlights__img-thumb",children:s.jsx("img",{className:"headlights__img",src:e.photo[0],alt:`photo of ${e.mark}`,loading:"lazy",width:250})}),s.jsxs("div",{className:"headlights__block-descr",children:[s.jsxs("p",{className:"headlights__compatibility",children:[e.mark," ",e.model]}),s.jsxs("p",{className:"headlights__partNumber",children:[s.jsx("strong",{children:"Номер деталі:"})," ",e.partNumber]}),s.jsxs("p",{className:"headlights__price",children:[e.price," грн "]}),s.jsx(m,{className:"headlights__button",to:e._id,children:"Детальніше"})]})]},e._id))})]})},f=({onSearch:a})=>{const[t,r]=u(),i=t.get("search")||"",c=l=>{const e=l.target.value;r({...Object.fromEntries(t.entries()),search:e}),a(l.target.value)};return s.jsx("div",{className:"search",children:s.jsx("input",{className:"search__form",onChange:c,value:i,type:"text",placeholder:"Що шукаєте?"})})},S=()=>{const a=x(),[t,r]=h.useState("");return s.jsxs("section",{className:"store",children:[s.jsxs("button",{className:"btn-back",onClick:()=>a("/"),children:[s.jsx(N,{})," Hа головну"]}),s.jsx("div",{className:"store__block",children:s.jsx(f,{onSearch:r})}),s.jsx(b,{query:t})]})};export{S as default};
